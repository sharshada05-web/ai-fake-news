<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fake News Detector | AI-Powered News Verification</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîç</text></svg>">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span class="logo-text">Fake News Detector</span>
            </div>
            <p class="tagline">AI-Powered Truth Verification from Multiple Sources</p>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Tab Navigation -->
            <div class="tabs">
                <button class="tab-btn active" data-tab="search">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Search News
                </button>
                <button class="tab-btn" data-tab="analyze">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Analyze Text
                </button>
            </div>

            <!-- Search Tab -->
            <section class="tab-content active" id="searchTab">
                <div class="card search-card">
                    <h2 class="card-title">Search & Verify News</h2>
                    <p class="card-description">Search news from multiple sources and verify if they're real or fake</p>
                    
                    <form id="searchForm" class="search-form">
                        <div class="search-input-wrapper">
                            <input 
                                type="text" 
                                id="searchQuery" 
                                name="query" 
                                placeholder="Enter any topic to search for latest news..."
                                required
                            >
                            <button type="submit" class="btn btn-search" id="searchBtn">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span>Search</span>
                            </button>
                        </div>
                    </form>

                    <!-- Search Engines Info -->
                    <div class="search-engines">
                        <span class="engine-tag">
                            <svg viewBox="0 0 24 24" fill="#FF4500"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.249-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/></svg>
                            Reddit
                        </span>
                        <span class="engine-tag">
                            <svg viewBox="0 0 24 24" fill="#FF6600"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 2.182c5.423 0 9.818 4.395 9.818 9.818S17.423 21.818 12 21.818 2.182 17.423 2.182 12 6.577 2.182 12 2.182zm-.545 3.545a.682.682 0 1 1 0 1.364.682.682 0 0 1 0-1.364zm3.636 7.636a.682.682 0 1 1 0-1.364.682.682 0 0 1 0 1.364zM7.273 9.818a.682.682 0 1 1 0-1.364.682.682 0 0 1 0 1.364zm.682 4.364a.682.682 0 1 1 1.364 0 .682.682 0 0 1-1.364 0zm3.636-3.636a.682.682 0 1 1 0-1.364.682.682 0 0 1 0 1.364z"/></svg>
                            Hacker News
                        </span>
                        <span class="engine-tag">
                            <svg viewBox="0 0 24 24" fill="#00809D"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" fill="#00809D"/></svg>
                            Bing
                        </span>
                    </div>
                </div>

                <!-- Search Results -->
                <div class="search-results hidden" id="searchResults">
                    <div class="results-header">
                        <h3>Search Results for "<span id="queryDisplay"></span>"</h3>
                        <span class="results-count" id="resultsCount">0 results</span>
                    </div>
                    
                    <div class="results-grid" id="resultsGrid">
                        <!-- Results will be populated by JS -->
                    </div>
                </div>

                <!-- Loading State -->
                <div class="search-loading hidden" id="searchLoading">
                    <div class="loader"></div>
                    <p>Searching news from multiple sources...</p>
                    <div class="loading-sources">
                        <span class="source-indicator">
                            <span class="dot"></span> Reddit
                        </span>
                        <span class="source-indicator">
                            <span class="dot"></span> Hacker News
                        </span>
                        <span class="source-indicator">
                            <span class="dot"></span> Bing
                        </span>
                    </div>
                </div>
            </section>

            <!-- Analyze Tab -->
            <section class="tab-content" id="analyzeTab">
                <div class="card">
                    <h2 class="card-title">Analyze News Article</h2>
                    <p class="card-description">Enter any news text below to analyze if it's likely to be fake or real news</p>
                    
                    <form id="analyzeForm" class="analyze-form">
                        <div class="textarea-wrapper">
                            <textarea 
                                id="newsText" 
                                name="text" 
                                placeholder="Paste or type your news article text here...

Example: Scientists discover a new planet made entirely of gold in our solar system."
                                rows="8"
                                required
                            ></textarea>
                            <div class="textarea-footer">
                                <span class="char-count"><span id="charCount">0</span> characters</span>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" id="analyzeBtn">
                            <span class="btn-text">Analyze Text</span>
                            <span class="btn-loader hidden"></span>
                        </button>
                    </form>
                </div>

                <!-- Results Section -->
                <section class="results-section hidden" id="resultsSection">
                    <div class="card result-card">
                        <div class="result-header">
                            <div class="result-icon" id="resultIcon">
                            </div>
                            <div class="result-label" id="resultLabel">
                            </div>
                        </div>
                        
                        <div class="confidence-meter">
                            <div class="confidence-label">Confidence</div>
                            <div class="confidence-bar">
                                <div class="confidence-fill" id="confidenceFill"></div>
                            </div>
                            <div class="confidence-value" id="confidenceValue">0%</div>
                        </div>
                        
                        <div class="probability-details">
                            <div class="probability-item fake">
                                <span class="probability-label">Fake News Probability</span>
                                <span class="probability-value" id="probFake">0%</span>
                            </div>
                            <div class="probability-item real">
                                <span class="probability-label">Real News Probability</span>
                                <span class="probability-value" id="probReal">0%</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Sample Texts Section -->
                <section class="sample-section">
                    <h3 class="sample-title">Try These Examples</h3>
                    <div class="sample-buttons">
                        <button class="btn btn-sample" data-text="Breaking: Aliens have landed in New York City! Government confirms extraterrestrial contact after decades of secrecy.">
                            üëΩ Aliens News
                        </button>
                        <button class="btn btn-sample" data-text="The Federal Reserve announced a 0.25% interest rate hike today, citing ongoing inflation concerns and economic growth indicators.">
                            üìà Economic News
                        </button>
                        <button class="btn btn-sample" data-text="Miracle cure for cancer found in common household plant, doctors amazed at results from clinical trials.">
                            üíä Miracle Cure
                        </button>
                        <button class="btn btn-sample" data-text="Researchers publish new findings on climate change impacts in coastal regions, showing rising sea levels and ecosystem changes.">
                            üåä Climate Research
                        </button>
                    </div>
                </section>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Powered by Machine Learning & Natural Language Processing</p>
            <p class="disclaimer">This tool provides predictions based on patterns in text data and should be used as a reference only.</p>
        </footer>
    </div>

    <!-- Error Modal -->
    <div class="modal hidden" id="errorModal">
        <div class="modal-content">
            <div class="modal-icon error">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <line x1="12" y1="8" x2="12" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="12" cy="16" r="1" fill="currentColor"/>
                </svg>
            </div>
            <h3 class="modal-title">Error</h3>
            <p class="modal-message" id="errorMessage"></p>
            <button class="btn btn-secondary" id="closeModal">Close</button>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
